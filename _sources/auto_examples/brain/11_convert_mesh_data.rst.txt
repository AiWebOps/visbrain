

.. _sphx_glr_auto_examples_brain_11_convert_mesh_data.py:


Convert mesh data
=================

This example illustrate how to convert mesh data to be compatible with
visbrain.

As an example, download the Custom.npz file :
https://www.dropbox.com/s/phzptkbht4us33q/Custom.npz?dl=1

.. image:: ../../picture/picbrain/ex_convert_mesh_data.png



.. code-block:: python

    import numpy as np
    import vispy.visuals.transforms as vist

    from visbrain import Brain
    from visbrain.utils import (convert_meshdata, add_brain_template,
                                remove_brain_template)
    from visbrain.io import download_file, path_to_visbrain_data

    # Define path to the template and load it :
    download_file('Custom.npz')
    mat = np.load(path_to_visbrain_data('Custom.npz'))

    # Get vertices and faces from the archive :
    vert, faces = mat['coord'], mat['tri']

    # By default the template is not correctly oriented and need a 90Â° rotation.
    # To this end, we define a rotation using VisPy :
    z90_rotation = vist.MatrixTransform()
    z90_rotation.rotate(90, (0, 0, 1))

    # Then we extract vertices, faces and normals. By default, normals of this
    # template are not correclty oriented so we the invert_normals to True :
    vertices, faces, normals = convert_meshdata(vert, faces, invert_normals=True,
                                                transform=z90_rotation)

    # Add the template :
    add_brain_template('Custom', vertices, faces, normals)

    vb = Brain(brain_template='Custom')
    vb.show()

    # If you want to remove the template :
    remove_brain_template('Custom')

**Total running time of the script:** ( 0 minutes  0.000 seconds)



.. only :: html

 .. container:: sphx-glr-footer


  .. container:: sphx-glr-download

     :download:`Download Python source code: 11_convert_mesh_data.py <11_convert_mesh_data.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: 11_convert_mesh_data.ipynb <11_convert_mesh_data.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.readthedocs.io>`_
