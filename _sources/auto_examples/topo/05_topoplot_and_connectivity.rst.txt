.. note::
    :class: sphx-glr-download-link-note

    Click :ref:`here <sphx_glr_download_auto_examples_topo_05_topoplot_and_connectivity.py>` to download the full example code
.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_topo_05_topoplot_and_connectivity.py:


Connectivity
============

Add connectivity to the topoplot.

Download topoplot data (topoplot_data.npz) :
https://www.dropbox.com/s/m76y3p0fyj6lxht/topoplot_data.npz?dl=1

.. image:: ../../picture/pictopo/ex_connectivity.png



.. code-block:: python

    import numpy as np

    from visbrain import Topo
    from visbrain.io import download_file, path_to_visbrain_data

    # Load the data :
    download_file('topoplot_data.npz')
    mat = np.load(path_to_visbrain_data('topoplot_data.npz'))
    xyz, data = mat['xyz'], mat['data']
    channels = [str(k) for k in range(len(data))]
    n_channels = len(channels)

    """The connectivity is defined by an upper triangle array of shape
    (n_channels, n_channels).
    In addition, to improve the selection of edges to display, use the boolean
    array `c_select` input parameter to select edges that need to be drawn.
    """
    connect = (data.reshape(-1, 1) + data.reshape(1, -1)) / 2.
    select = connect < 1.97

    # Create a topoplot instance :
    t = Topo()

    # Add the topoplot defined using xyz coordinates :
    t.add_topoplot('Topo_1', data, xyz=xyz, title='Connectivity example',
                   cblabel='Beta power', c_connect=connect, c_select=select,
                   cmap='viridis', c_linewidth=4., c_cmap='plasma')

    # Show the window :
    t.show()

**Total running time of the script:** ( 0 minutes  0.000 seconds)


.. _sphx_glr_download_auto_examples_topo_05_topoplot_and_connectivity.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download

     :download:`Download Python source code: 05_topoplot_and_connectivity.py <05_topoplot_and_connectivity.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: 05_topoplot_and_connectivity.ipynb <05_topoplot_and_connectivity.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.readthedocs.io>`_
